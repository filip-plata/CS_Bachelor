next
next
next
next 50
next 10
next 2
next 50
next 50
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
next 5
p i
p $i
p $c
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
next 30
set follow-fork-mode child
b echo
run
set follow-fork-mode child
b echo
run
info frame
x/20x $esp
p $ebp + 0x40
p (char *)$ebp + 0x40
p (char *)$ebp + 0x30
p (char *)$ebp + 0x40
p (char *)$ebp + 0x20
p (char *)$ebp - 0x10
p (char *)$ebp - 0x20
p (char *)$ebp 
p (char *)$ebp - 0x4c
p (char *)$ebp - 0x4a
step
step
step
step
step
step
step
step
step
set follow-fork-mode child
b echo
run
run
run
set follow-fork-mode child
b echo_loop
run
next
next 4
next 4
next
next
next
next
next
p $esp
p (char *) $esp
set follow-fork-mode child
b echo
run
x/x $esp
x/2x $esp
(void*) $ebp - $esp
p (void*) $ebp - $esp
x/4x $esp
x/10x $esp
x/30x $esp
x/30x $ebp
x/30x $ebp + 0x4
x/30x $ebp + 0x04
x/30x $ebp
x/30x $ebp - 0xc
x/10x $esp
x/10x $ebp
x/10x $ebp -0x4c
x/10x $ebp -0x7c
x/10x $ebp -0x100
x/10x $ebp
step
step
next
next
next
next
next
next
next
p $esp
x/16wx $esp
x/16x $esp
x/30x $esp
x/30x $ebp
x/30x $ebp - 0x4c
run
run
run
set follow-fork-mode 
set follow-fork-mode child
b echo_loop
run
set follow-fork-mode child
b echo_loop
run
next 5
next 3
next
next
x/16wx $esp
x/16x $esp
x/40x $esp
x/40x $esp + 0x50
x/50x $esp + 0x50
x/60x $esp + 0x50
x/60x $esp + 0x88
x/60x $esp
x/60x $esp - 0x10
x/60x $esp - 0x50
x/60x $esp - 0x30
run
set follow-fork-mode child
b echo_loop
run
set follow-fork-mode child
b echo_loop
run
next 8
next
next
next
next
next
set follow-fork-mode child
b echo_loop
run
set follow-fork-mode child
b echo_loop
run
next 9
next
x/16wx $esp
x/16x $esp
x/16x $esp - 0x20
c
set follow-fork-mode child
b echo_loop
run
next 8
next
next
x/16wx $esp
x/16x $esp
x/16x $esp - 0x2
x/16x $esp - 0x20
x/16x $esp - 0x60
x/80x $esp - 0x60
set follow-fork-mode child
b echo
run
set follow-fork-mode child
b echo
run
c
set follow-fork-mode parent
b echo
run
set follow-fork-mode child
b echo
c
c
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next
next 100
next 100
next 100
next 100
next 100
next 100
next 100
next 100
next 100
next 100
next 100
